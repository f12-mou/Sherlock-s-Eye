<style>
    body {
    background: rgb(99, 39, 120)
}

.form-control:focus {
    box-shadow: none;
    border-color: #BA68C8
}

.profile-button {
    background: rgb(99, 39, 120);
    box-shadow: none;
    border: none
}

.profile-button:hover {
    background: #682773
}

.profile-button:focus {
    background: #682773;
    box-shadow: none
}

.profile-button:active {
    background: #682773;
    box-shadow: none
}

.back:hover {
    color: #682773;
    cursor: pointer
}

.labels {
    font-size: 11px
}

.add-experience:hover {
    background: #BA68C8;
    color: #fff;
    cursor: pointer;
    border: solid 1px #BA68C8
}





    .MainContainer{
        height: 100%;
        width:100%;
        align-content: center;
        display: grid;
        grid-template-columns: repeat(3,1fr);
        grid-template-rows: repeat(2,1fr);
    }
    .sideNav{
        grid-column: 1/2;
        grid-row: 1/3;
    }
    .ProfileCard{
        grid-column: 2/4;
        grid-row: 1/3;
        height: 300px;
    }
    .card-body button{
        color: white;
        background-color: #940031;
    }
    .card-body button:hover{
        background-color: white;
        color: #940031;
        width: 100%;
    }
    .card-body .editButton{
        background-color: white;
        color: #940031;
    }
    .ProfileCardContainer{
        display: grid;
        grid-template-columns: repeat(6,1fr);
        grid-template-rows: repeat(6,1fr);
        height: 300px;
        background-color: aqua;
    }
    .ProfileCardImage{
        grid-column: 1/4;
        grid-row: 1/4;
    }
    .p1{
        grid-column:4/5;
         grid-row: 1/2;
         height: 50px;
    }
    .p2{
        grid-column:5/7;
         grid-row:1/2;
         height: 50px;
    }
    .p3{
        grid-column: 4/5;
         grid-row:2/3;
         height: 50px;
    }
    .p4{
        grid-column:5/7;
         grid-row:2/3;
         height: 50px;
    }
    .p5{
        grid-column:4/5;
         grid-row:3/4;
         height: 50px;
    }
    .p6{
        grid-column:5/7;
         grid-row:3/4;
         height: 50px;
    }
    .p7{
        grid-column:1/7;
         grid-row:5/7;
         height: 50px;
    }

</style>

<!DOCTYPE html>
<html lang="en">


<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key="></script>
    <script src="https://unpkg.com/location-picker/dist/location-picker.min.js"></script>

    
    <title>
        <%= title %>
    </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
        integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
</head>

<body>
    <%- include ('header/navbar')%>
     <div class="MainContainer"> 
            <!-- body -->
            <!-- <div class="container-fluid" style="margin-top: 20px;"> -->
                <!-- <div class="row justify-content-start"> -->
                    <div class="sideNav">
                        <%- include ('header/side-navbar')%>
                    </div>

                    <div class="ProfileCard">

                        <div class="container py-5 h-100">
                            <div class="d-flex justify-content-center">
                                <div class="row">
                                    <form action="/api/user/search" method="post">
                                        <div class="row">
                                            <div class="col-4">
                                                <div class="input-group form-group">
                                                    <input type="text" class="form-control" id="name" name="name" placeholder="Name of the User"
                                                        value="<%= (typeof form != 'undefined')? form.name : '' %>">
                                                </div>
                                            </div>
                                            <div class="col-4">
                                                <div class="input-group form-group">
                                                    <input type="text" class="form-control" id="user_id" name="user_id" placeholder="UserName"
                                                        value="<%= (typeof form != 'undefined')? form.user_id: '' %>">
                                                </div>
                                            </div>
                                           
                                            
                                            
                                        </div>
                                        
                                        <div class="row">
                                           
                                            <div class="col-4">
                                                <div class="input-group form-group">
                                                    <input type="text" class="form-control" id="email" name="email" placeholder="Email Address"
                                                        value="<%= (typeof form != 'undefined')? form.email : '' %>">
                                                </div>

                                               
                                            </div>
                                            <div class="col-4">
                                               
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-4">
                                                
                                            </div>
                                        </div>
                                        <div class="d-flex justify-content-center">
                                            <div class="form-group">
                                                <button type="submit" class="btn btn-primary search_btn">Search <i class="fas fa-search"></i></button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <% if (users.length === 0) {%>
                                <legend>No User Found...</legend>
                            <% }%>
                            <div class="row">
                            <% for (user of users) { %> 
                            <div class="col col-md-6">
                                <div class="card" style="border-radius: 15px; margin-bottom: 20px; box-shadow: 2px 2px 2px 2px rgb(247, 247, 247);">
                                    <div class="card-body p-4">
                                        <div class="d-flex text-black">
                                            <div class="flex-shrink-0">
                                                <img src="http://localhost:3000/images/app_pic1.jpg"
                                                    alt="image" class="img-fluid"
                                                    style="width: 180px; border-radius: 10px;">
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <h5 class="mb-1"><%= user.DETECTIVE_ID%></h5>
                                                <p class="mb-2 pb-1" style="color: #2b2a2a;">Rating: <%= user.RATING%></p>
                                                <p class="mb-2 pb-1" style="color: #2b2a2a;">BIOGRAPHY: <%= user.BIO%></p>
                                                <div class="d-flex pt-1">
                                                    <a href="/api/user/viewProfile/<%- user.USER_ID%>">Visit Profile</a>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <% }%>
                            </div>
                        </div>

                        

                        
                        
                    </div>
    </div>
</body>

<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.9.1/firebase-storage.js"></script>

<script type="module">
    const FIREBASE_API_KEY = '<%= process.env.FIREBASE_API_KEY%>';
    const FIREBASE_AUTH_DOMAIN = '<%= process.env.FIREBASE_AUTH_DOMAIN%>';
    const FIREBASE_PROJECT_ID = '<%= process.env.FIREBASE_PROJECT_ID%>';
    const FIREBASE_STORAGE_BUCKET = '<%= process.env.FIREBASE_STORAGE_BUCKET%>';
    const FIREBASE_MESSAGING_SENDER_ID = '<%= process.env.FIREBASE_MESSAGING_SENDER_ID%>';
    const FIREBASE_APP_ID = '<%= process.env.FIREBASE_APP_ID%>';
    const FIREBASE_MEASUREMENT_ID = '<%= process.env.FIREBASE_MEASUREMENT_ID%>';
    const firebaseConfig = {
            apiKey: FIREBASE_API_KEY,
            authDomain: FIREBASE_AUTH_DOMAIN,
            projectId: FIREBASE_PROJECT_ID,
            storageBucket: FIREBASE_STORAGE_BUCKET,
            messagingSenderId: FIREBASE_MESSAGING_SENDER_ID,
            appId: FIREBASE_APP_ID,
            measurementId: FIREBASE_MEASUREMENT_ID
        };
    firebase.initializeApp(firebaseConfig);
    
</script>

</html>